(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personCenter/myOrder/myOrder"],{1189:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){e.stopPropagation(),t.refundMaskFlag=!1},t.e1=function(e){e.stopPropagation(),t.refundMaskFlag=!1},t.e2=function(e){e.stopPropagation(),t.refundGoodFlag=!t.refundGoodFlag,t.refundFlag=!1})},a=[]},"2ed2":function(t,e,n){"use strict";var o=n("7a9e"),i=n.n(o);i.a},"5b89":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("79cb"));function i(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{titleActiveIndex:0,titleList:["全部","待付款","待发货","待收货","已完成"],pages:1,pagev:1,msgList:[],types:1,tipflag:!1,tipMsg:"",indexFlag:"",refundMaskFlag:!1,refundGoodFlag:!1,refundFlag:!1,textValues:""}},onLoad:function(t){this.setData(t),this.getOrderList()},onReachBottom:function(){0==this.pagesV&&(this.pages+=1,this.getOrderList())},methods:{getTitleActive:function(t){this.titleActiveIndex=t,this.types=4==t?10:t,this.msgList=[],this.pages=1,this.getOrderList()},jumpDetail:function(e,n){t.navigateTo({url:"/pages/personCenter/myOrder/orderDetail?transactionNum="+this.titleActiveIndex+"&order_sn="+e+"&is_pink="+n})},getOrderList:function(){var t=this;t.$http.post("mini/v1/user/orderlist",{page:t.pages,status:Number(t.types)},(function(e){if(0==e.state&&(t.pagesV=e.data.is_request,0==e.data.is_request)){var n=e.data.list;n.map((function(t){t.goods.map((function(t){t.goods_img=o.default.globalData.imgPrefixUrl+t.goods_img}))}));var i=t.msgList;t.msgList=i.concat(n)}}))},cancelOrder:function(e){var n=this;t.showModal({title:"提示",content:"取消订单？",success:function(t){t.confirm?n.$http.post("mini/v1/goods/cancelGood",{order_sn:e},(function(t){0==t.state&&(n.tipflag=!0,n.tipMsg="订单取消成功",n.pages=1,n.msgList=[],n.getOrderList(),setTimeout((function(){n.tipflag=!1}),3e3))})):t.cancel&&console.log("用户点击取消")}})},receiveGoods:function(e){var n=this;t.showModal({title:"提示",content:"确认收货？",success:function(t){t.confirm?n.$http.post("mini/v1/user/confirm",{order_sn:e},(function(t){0==t.state&&(n.tipflag=!0,n.tipMsg="收货成功",n.pages=1,n.msgList=[],n.getOrderList(),setTimeout((function(){n.tipflag=!1}),2e3))})):t.cancel&&console.log("用户点击取消")}})},refundMoney:function(e){var n=this;t.showModal({title:"提示",content:"确认退款?",success:function(o){o.confirm?n.$http.post("mini/v1/goods/cancelGood",{order_sn:e},(function(e){t.showToast({title:"申请退款成功",duration:2e3})})):o.cancel&&console.log("用户点击取消")}})},btnSubmit:function(){var t=this;return 0==t.refundGoodFlag&&""==t.textValues?(console.log(11111),t.tipflag=!0,t.tipMsg="填写退款说明",setTimeout((function(){t.tipflag=!1}),3e3),!1):0==t.refundGoodFlag?(console.log(22222),t.tipflag=!0,t.tipMsg="选择退款说明",setTimeout((function(){t.tipflag=!1}),3e3),!1):0==t.textValues?(console.log(33333),t.tipflag=!0,t.tipMsg="填写退款理由",setTimeout((function(){t.tipflag=!1}),3e3),!1):void t.$http.post("mini/v1/goods/cancelGood",{order_sn:t.msgList[t.indexFlag].order_sn,return_remark:t.textValues,return_type:1==t.refundGoodFlag?"2":"1"},(function(e){0==e.state&&(t.tipflag=!0,t.tipMsg="申请成功",t.pages=1,t.msgList=[],t.refundMaskFlag=!1,t.refundGoodFlag=!1,t.refundFlag=!1,t.getOrderList(),setTimeout((function(){t.tipflag=!1}),3e3),console.log(e.data))}))}}};e.default=a}).call(this,n("543d")["default"])},"64c8":function(t,e,n){},"68b7":function(t,e,n){"use strict";n.r(e);var o=n("5b89"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"79cb":function(t,e,n){"use strict";n.r(e);var o=n("ae71");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("ac07");var a,s,r,u,c=n("f0c5"),f=Object(c["a"])(o["default"],a,s,!1,null,null,null,!1,r,u);e["default"]=f.exports},"7a9e":function(t,e,n){},ac07:function(t,e,n){"use strict";var o=n("64c8"),i=n.n(o);i.a},ae71:function(t,e,n){"use strict";n.r(e);var o=n("ff90"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},ed84:function(t,e,n){"use strict";n.r(e);var o=n("1189"),i=n("68b7");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("2ed2");var s,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"530e9390",null,!1,o["a"],s);e["default"]=u.exports},fb65:function(t,e,n){"use strict";(function(t){n("edce");o(n("66fd"));var e=o(n("ed84"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},ff90:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("66fd")),i=a(n("6c44"));function a(t){return t&&t.__esModule?t:{default:t}}Object.assign(o.default.prototype,i.default);var s={globalData:{imgPrefixUrl:"https://chikehometest.hzbixin.cn"},onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};e.default=s}},[["fb65","common/runtime","common/vendor"]]]);